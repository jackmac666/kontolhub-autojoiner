--[[
    Encrypted Loader by Kontol Hub Protector
    This code is encoded for security. Do not edit!
]]

local b = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
local function base64_decode(data)
    data = string.gsub(data, '[^'..b..'=]', '')
    return (data:gsub('.', function(x)
        if x == '=' then return '' end
        local r,f='',(b:find(x)-1)
        for i=6,1,-1 do r=r..(f%2^i - f%2^(i-1) > 0 and '1' or '0') end
        return r;
    end):gsub('%d%d%d?%d?%d?%d?%d?%d?', function(x)
        if #x ~= 8 then return '' end
        local c=0
        for i=1,8 do c=c + (x:sub(i,i)=='1' and 2^(8-i) or 0) end
        return string.char(c)
    end))
end

local encoded = [[bG9jYWwgUGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCmxvY2FsIFRlbGVwb3J0U2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIikKbG9jYWwgQ29yZUd1aSA9IGdhbWU6R2V0U2VydmljZSgiQ29yZUd1aSIpCmxvY2FsIEh0dHBTZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJIdHRwU2VydmljZSIpCmxvY2FsIFVzZXJJbnB1dFNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQpsb2NhbCBUd2VlblNlcnZpY2UgPSBnYW1lOkdldFNlcnZpY2UoIlR3ZWVuU2VydmljZSIpCgotLSBDb3JyZWN0IFBsYWNlIElEIGZvciAiU3RlYWwgYSBCcmFpbnJvdCIgZ2FtZQpsb2NhbCBQTEFDRV9JRCA9IDEwOTk4MzY2ODA3OTIzNwoKLS0gU2NyaXB0IHN0YXRlCmxvY2FsIHNjcmlwdEVuYWJsZWQgPSBmYWxzZQpsb2NhbCBzb2NrZXQgPSBuaWwKbG9jYWwgcmVjb25uZWN0QXR0ZW1wdHMgPSAwCmxvY2FsIG1heFJlY29ubmVjdEF0dGVtcHRzID0gNQoKLS0gTW9iaWxlIGRldGVjdGlvbiBhbmQgY29uZmlndXJhdGlvbgpsb2NhbCBzY3JlZW5TaXplID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuVmlld3BvcnRTaXplCmxvY2FsIGlzTW9iaWxlID0gVXNlcklucHV0U2VydmljZS5Ub3VjaEVuYWJsZWQgYW5kIG5vdCBVc2VySW5wdXRTZXJ2aWNlLktleWJvYXJkRW5hYmxlZAoKbG9jYWwgQ29uZmlnID0gewogICAgR1VJX05BTUUgPSAiS29udG9sSHViQXV0b2pvaW5lciIsCiAgICBGUkFNRV9TSVpFID0gaXNNb2JpbGUgYW5kIHsKICAgICAgICBXSURUSCA9IG1hdGgubWluKHNjcmVlblNpemUuWCAqIDAuOSwgMzYwKSwKICAgICAgICBIRUlHSFQgPSBtYXRoLm1pbihzY3JlZW5TaXplLlkgKiAwLjYsIDI1MCkgIC0tIFJlZHVjZWQgaGVpZ2h0IHRvIHJlbW92ZSBlbXB0eSBzcGFjZQogICAgfSBvciB7CiAgICAgICAgV0lEVEggPSA0MDAsICAtLSBSZWR1Y2VkIHdpZHRoCiAgICAgICAgSEVJR0hUID0gMjcwICAtLSBSZWR1Y2VkIGhlaWdodCB0byByZW1vdmUgZW1wdHkgc3BhY2UKICAgIH0sCiAgICBURVhUX1NJWkVTID0gaXNNb2JpbGUgYW5kIHsKICAgICAgICBUSVRMRSA9IDE2LAogICAgICAgIEJVVFRPTiA9IDEyLAogICAgICAgIElOUFVUID0gMTAsCiAgICAgICAgU1RBVFVTID0gMTAKICAgIH0gb3IgewogICAgICAgIFRJVExFID0gMTgsICAtLSBTbGlnaHRseSBzbWFsbGVyCiAgICAgICAgQlVUVE9OID0gMTMsCiAgICAgICAgSU5QVVQgPSAxMSwKICAgICAgICBTVEFUVVMgPSAxMQogICAgfSwKICAgIENPTE9SUyA9IHsKICAgICAgICBQUklNQVJZID0gQ29sb3IzLmZyb21SR0IoMTUsIDE1LCAyNSksCiAgICAgICAgU0VDT05EQVJZID0gQ29sb3IzLmZyb21SR0IoMjUsIDI1LCA0MCksCiAgICAgICAgQUNDRU5UID0gQ29sb3IzLmZyb21SR0IoMjU1LCA1MCwgNTApLAogICAgICAgIFNVQ0NFU1MgPSBDb2xvcjMuZnJvbVJHQig1MCwgMjAwLCAxMDApLAogICAgICAgIERBTkdFUiA9IENvbG9yMy5mcm9tUkdCKDI1NSwgODAsIDgwKSwKICAgICAgICBURVhUID0gQ29sb3IzLmZyb21SR0IoMjQwLCAyNDAsIDI1MCksCiAgICAgICAgVEVYVF9ESU0gPSBDb2xvcjMuZnJvbVJHQigxODAsIDE4MCwgMjAwKQogICAgfQp9CgotLSBBdXRvLWRldGVjdCBsb2NhbCBJUCBhZGRyZXNzZXMKbG9jYWwgZnVuY3Rpb24gZ2V0TG9jYWxJUHMoKQogICAgbG9jYWwgYWRkcmVzc2VzID0gewogICAgICAgICJ3czovLzEyNy4wLjAuMTo4NzY1IiwKICAgICAgICAid3M6Ly9sb2NhbGhvc3Q6ODc2NSIsCiAgICAgICAgIndzOi8vMTAuNjYuNi4xNjo4NzY1IiAgLS0gQWRkIHRoZSBkZXRlY3RlZCBJUCBmcm9tIHNlcnZlcgogICAgfQogICAgCiAgICByZXR1cm4gYWRkcmVzc2VzCmVuZAoKbG9jYWwgYWRkcmVzc0xpc3QgPSBnZXRMb2NhbElQcygpCgotLSBDbGVhbiB1cCBleGlzdGluZyBHVUkKcGNhbGwoZnVuY3Rpb24oKSAKICAgIGlmIENvcmVHdWk6RmluZEZpcnN0Q2hpbGQoQ29uZmlnLkdVSV9OQU1FKSB0aGVuCiAgICAgICAgQ29yZUd1aTpGaW5kRmlyc3RDaGlsZChDb25maWcuR1VJX05BTUUpOkRlc3Ryb3koKSAKICAgIGVuZAplbmQpCgotLSBDcmVhdGUgR1VJCmxvY2FsIGd1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIiwgQ29yZUd1aSkKZ3VpLk5hbWUgPSBDb25maWcuR1VJX05BTUUKZ3VpLlJlc2V0T25TcGF3biA9IGZhbHNlCmd1aS5JZ25vcmVHdWlJbnNldCA9IHRydWUKCi0tIPCfqp8gTWFpbiBGcmFtZQpsb2NhbCBmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBndWkpCmZyYW1lLlNpemUgPSBVRGltMi5uZXcoMCwgQ29uZmlnLkZSQU1FX1NJWkUuV0lEVEgsIDAsIENvbmZpZy5GUkFNRV9TSVpFLkhFSUdIVCkKZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCmZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCmZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMCwgMTAsIDE1KQpmcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCmZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDAKZnJhbWUuQWN0aXZlID0gdHJ1ZQpmcmFtZS5EcmFnZ2FibGUgPSB0cnVlCmZyYW1lLlpJbmRleCA9IDEKCkluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBmcmFtZSkuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgaXNNb2JpbGUgYW5kIDEyIG9yIDE2KQoKLS0gQWRkIHNvbGlkIHJlZCBib3JkZXIgZWZmZWN0CmxvY2FsIGZyYW1lU3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIsIGZyYW1lKQpmcmFtZVN0cm9rZS5Db2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkKZnJhbWVTdHJva2UuVHJhbnNwYXJlbmN5ID0gMC4yCmZyYW1lU3Ryb2tlLlRoaWNrbmVzcyA9IDQKCi0tIFNpbXBsZSByZWQgZ2xvdyBwdWxzZSAobm8gUkdCKQpzcGF3bihmdW5jdGlvbigpCiAgICBsb2NhbCBjeWNsZSA9IDAKICAgIHdoaWxlIGZyYW1lU3Ryb2tlLlBhcmVudCBkbwogICAgICAgIGN5Y2xlID0gY3ljbGUgKyAxCiAgICAgICAgCiAgICAgICAgLS0gU2ltcGxlIHJlZCBwdWxzZSBlZmZlY3QKICAgICAgICBsb2NhbCBwdWxzZUludGVuc2l0eSA9IChtYXRoLnNpbihtYXRoLnJhZChjeWNsZSAqIDQpKSArIDEpICogMC4xICsgMC4xNQogICAgICAgIGZyYW1lU3Ryb2tlLlRyYW5zcGFyZW5jeSA9IHB1bHNlSW50ZW5zaXR5CiAgICAgICAgCiAgICAgICAgLS0gS2VlcCBjb25zaXN0ZW50IHJlZCBjb2xvcgogICAgICAgIGZyYW1lU3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKQogICAgICAgIAogICAgICAgIHdhaXQoMC4wNSkgLS0gU21vb3RoIGFuaW1hdGlvbgogICAgZW5kCmVuZCkKCi0tIPCflJ0gVG9wIEJhcgpsb2NhbCB0b3BCYXIgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgZnJhbWUpCnRvcEJhci5TaXplID0gVURpbTIubmV3KDEsIDAsIDAsIGlzTW9iaWxlIGFuZCAzNSBvciA0MCkKdG9wQmFyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxICAtLSBGdWxseSB0cmFuc3BhcmVudCAtIG5vIGJhY2tncm91bmQKdG9wQmFyLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQp0b3BCYXIuWkluZGV4ID0gNApJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgdG9wQmFyKS5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCBpc01vYmlsZSBhbmQgMTIgb3IgMTYpCgotLSDwn4+377iPIEV4cGVydCBTaW1wbGUgVGl0bGUgRGVzaWduCi0tIEFkZCBmdWxsIHVuaWZpZWQgYmFja2dyb3VuZCBmb3IgdGl0bGUgZXh0ZW5kaW5nIHRvIGVkZ2VzCmxvY2FsIHRpdGxlQmFja2dyb3VuZCA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBmcmFtZSkgIC0tIFBhcmVudCB0byBmcmFtZSBpbnN0ZWFkIG9mIHRvcEJhcgp0aXRsZUJhY2tncm91bmQuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLCAwKQp0aXRsZUJhY2tncm91bmQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkgIC0tIFN0YXJ0IGZyb20gdG9wLWxlZnQgY29ybmVyCnRpdGxlQmFja2dyb3VuZC5TaXplID0gVURpbTIubmV3KDEsIDAsIDAsIGlzTW9iaWxlIGFuZCAzNSBvciA0MCkgIC0tIEZ1bGwgd2lkdGgsIHNhbWUgaGVpZ2h0IGFzIHRvcEJhcgp0aXRsZUJhY2tncm91bmQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwLCAyMCwgMjApICAtLSBEYXJrIGJsYWNrIGJhc2UgKHNhbWUgYXMgaG9wIHNlcnZlcikKdGl0bGVCYWNrZ3JvdW5kLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjUgIC0tIE1vcmUgdHJhbnNwYXJlbnQgbGlrZSBob3Agc2VydmVyCnRpdGxlQmFja2dyb3VuZC5Cb3JkZXJTaXplUGl4ZWwgPSAwCnRpdGxlQmFja2dyb3VuZC5aSW5kZXggPSAzICAtLSBCZWhpbmQgdG9wQmFyIGVsZW1lbnRzCgotLSBBZGQgYmxhY2sgZ3JhZGllbnQgdG8gdGl0bGUgYmFja2dyb3VuZCAoc2FtZSBhcyBob3Agc2VydmVyKQpsb2NhbCB0aXRsZUdyYWRpZW50ID0gSW5zdGFuY2UubmV3KCJVSUdyYWRpZW50IiwgdGl0bGVCYWNrZ3JvdW5kKQp0aXRsZUdyYWRpZW50LkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CiAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5mcm9tUkdCKDIwLCAyMCwgMjApKSwgICAtLSBEYXJrIGJsYWNrCiAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNSwgQ29sb3IzLmZyb21SR0IoNDAsIDQwLCA0MCkpLCAtLSBNZWRpdW0gYmxhY2sKICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoNjAsIDYwLCA2MCkpICAgIC0tIExpZ2h0IGJsYWNrL2dyYXkKfQp0aXRsZUdyYWRpZW50LlJvdGF0aW9uID0gNDUgIC0tIERpYWdvbmFsIGdyYWRpZW50IGZvciBkeW5hbWljIGVmZmVjdAoKLS0gQWRkIHJvdW5kZWQgY29ybmVycyBvbmx5IGZvciB0b3AgdG8gbWF0Y2ggbWFpbiBmcmFtZQpsb2NhbCB0aXRsZUNvcm5lciA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCB0aXRsZUJhY2tncm91bmQpCnRpdGxlQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIGlzTW9iaWxlIGFuZCAxMiBvciAxNikKCi0tIEFkZCBib3R0b20gYm9yZGVyIGxpbmUgb25seQpsb2NhbCB0aXRsZUJvdHRvbUJvcmRlciA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCB0aXRsZUJhY2tncm91bmQpCnRpdGxlQm90dG9tQm9yZGVyLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMCwgMSkKdGl0bGVCb3R0b21Cb3JkZXIuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMSwgMCkgIC0tIEZ1bGwgd2lkdGggZnJvbSBsZWZ0IGVkZ2UKdGl0bGVCb3R0b21Cb3JkZXIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCAyKSAgLS0gMiBwaXhlbCBoZWlnaHQgYm90dG9tIGxpbmUKdGl0bGVCb3R0b21Cb3JkZXIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkKdGl0bGVCb3R0b21Cb3JkZXIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuNAp0aXRsZUJvdHRvbUJvcmRlci5Cb3JkZXJTaXplUGl4ZWwgPSAwCnRpdGxlQm90dG9tQm9yZGVyLlpJbmRleCA9IDQKCmxvY2FsIHRpdGxlID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB0b3BCYXIpCnRpdGxlLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCnRpdGxlLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQp0aXRsZS5TaXplID0gVURpbTIubmV3KDAuNiwgMCwgMC44LCAwKQp0aXRsZS5UZXh0ID0gaXNNb2JpbGUgYW5kICLimKDvuI8gQVVUTyBKT0lORVIg4pig77iPIiBvciAi4pig77iPIEFVVE8gSk9JTkVSIOKYoO+4jyIKdGl0bGUuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgIC0tIFB1cmUgcmVkIHRleHQKdGl0bGUuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCnRpdGxlLlRleHRTaXplID0gQ29uZmlnLlRFWFRfU0laRVMuVElUTEUKdGl0bGUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKdGl0bGUuWkluZGV4ID0gNQp0aXRsZS5UZXh0U2NhbGVkID0gaXNNb2JpbGUKdGl0bGUuVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkNlbnRlcgoKLS0gTm8gc3Ryb2tlIGVmZmVjdCAtIGp1c3QgY2xlYW4gcmVkIHRleHQKCi0tIOKdjCBDbG9zZSBCdXR0b24KbG9jYWwgY2xvc2VCdG4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iLCB0b3BCYXIpCmNsb3NlQnRuLlRleHQgPSAi4pyWIgpjbG9zZUJ0bi5TaXplID0gVURpbTIubmV3KDAsIGlzTW9iaWxlIGFuZCAzMCBvciAzNSwgMCwgaXNNb2JpbGUgYW5kIDMwIG9yIDM1KQpjbG9zZUJ0bi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLCBpc01vYmlsZSBhbmQgLTM1IG9yIC00MCwgMCwgMi41KQpjbG9zZUJ0bi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29uZmlnLkNPTE9SUy5EQU5HRVIKY2xvc2VCdG4uVGV4dENvbG9yMyA9IENvbmZpZy5DT0xPUlMuVEVYVApjbG9zZUJ0bi5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKY2xvc2VCdG4uVGV4dFNpemUgPSBpc01vYmlsZSBhbmQgMTQgb3IgMTYKY2xvc2VCdG4uWkluZGV4ID0gNQpJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgY2xvc2VCdG4pLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIGlzTW9iaWxlIGFuZCA2IG9yIDgpCgotLSDwn5OKIFN0YXR1cyBEaXNwbGF5CmxvY2FsIHN0YXR1c0xhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCBmcmFtZSkKc3RhdHVzTGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjAsIDAsIGlzTW9iaWxlIGFuZCAyNCBvciAyOCkKc3RhdHVzTGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIGlzTW9iaWxlIGFuZCA0NSBvciA1MCkKc3RhdHVzTGFiZWwuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDM1LCAzNSwgNTApCnN0YXR1c0xhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjMKc3RhdHVzTGFiZWwuVGV4dCA9ICJSZWFkeSB0byBjb25uZWN0IgpzdGF0dXNMYWJlbC5UZXh0Q29sb3IzID0gQ29uZmlnLkNPTE9SUy5URVhUX0RJTQpzdGF0dXNMYWJlbC5Gb250ID0gRW51bS5Gb250LkdvdGhhbQpzdGF0dXNMYWJlbC5UZXh0U2l6ZSA9IENvbmZpZy5URVhUX1NJWkVTLlNUQVRVUwpzdGF0dXNMYWJlbC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuQ2VudGVyCnN0YXR1c0xhYmVsLlRleHRTY2FsZWQgPSB0cnVlCnN0YXR1c0xhYmVsLlpJbmRleCA9IDIKSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIHN0YXR1c0xhYmVsKS5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLCBpc01vYmlsZSBhbmQgNiBvciA4KQoKLS0g8J+TpiBKb2IgSUQgSW5wdXQgQm94CmxvY2FsIGpvYkJveCA9IEluc3RhbmNlLm5ldygiVGV4dEJveCIsIGZyYW1lKQpqb2JCb3guUGxhY2Vob2xkZXJUZXh0ID0gIkN1cnJlbnQgU2VydmVyIElEOiAiIC4uIGdhbWUuSm9iSWQKam9iQm94LlNpemUgPSBVRGltMi5uZXcoMSwgLTIwLCAwLCBpc01vYmlsZSBhbmQgMzAgb3IgMzUpCmpvYkJveC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgaXNNb2JpbGUgYW5kIDc4IG9yIDg4KQpqb2JCb3guQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDM1LCAzNSwgNTApCmpvYkJveC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCmpvYkJveC5UZXh0Q29sb3IzID0gQ29uZmlnLkNPTE9SUy5URVhUCmpvYkJveC5QbGFjZWhvbGRlckNvbG9yMyA9IENvbmZpZy5DT0xPUlMuVEVYVF9ESU0Kam9iQm94LkNsZWFyVGV4dE9uRm9jdXMgPSBmYWxzZQpqb2JCb3guVGV4dCA9ICIiCmpvYkJveC5Gb250ID0gRW51bS5Gb250LkdvdGhhbQpqb2JCb3guVGV4dFNpemUgPSBDb25maWcuVEVYVF9TSVpFUy5JTlBVVApqb2JCb3guVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkNlbnRlcgpqb2JCb3guVGV4dFNjYWxlZCA9IHRydWUKam9iQm94LlpJbmRleCA9IDIKSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIGpvYkJveCkuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgaXNNb2JpbGUgYW5kIDYgb3IgOCkKCi0tIPCflJggUHJvZmVzc2lvbmFsIEJ1dHRvbiBDb250YWluZXIKbG9jYWwgYnV0dG9uQ29udGFpbmVyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIGZyYW1lKQpidXR0b25Db250YWluZXIuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjAsIDAsIGlzTW9iaWxlIGFuZCA0MCBvciA0NSkKYnV0dG9uQ29udGFpbmVyLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCBpc01vYmlsZSBhbmQgMTE4IG9yIDEzMykKYnV0dG9uQ29udGFpbmVyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCmJ1dHRvbkNvbnRhaW5lci5aSW5kZXggPSAyCgotLSBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIHByb2Zlc3Npb25hbCBidXR0b25zCmxvY2FsIGZ1bmN0aW9uIGNyZWF0ZVByb2Zlc3Npb25hbEJ1dHRvbih0ZXh0LCBwb3NpdGlvbiwgZ3JhZGllbnRDb2xvcnMsIHRleHRDb2xvciwgaWNvbikKICAgIGxvY2FsIGJ1dHRvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIsIGJ1dHRvbkNvbnRhaW5lcikKICAgIGJ1dHRvbi5UZXh0ID0gIiIKICAgIGJ1dHRvbi5TaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApCiAgICBidXR0b24uUG9zaXRpb24gPSBwb3NpdGlvbgogICAgYnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBncmFkaWVudENvbG9yc1sxXQogICAgYnV0dG9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjEKICAgIGJ1dHRvbi5Cb3JkZXJTaXplUGl4ZWwgPSAwCiAgICBidXR0b24uWkluZGV4ID0gMwogICAgCiAgICAtLSBQcm9mZXNzaW9uYWwgcm91bmRlZCBjb3JuZXJzCiAgICBsb2NhbCBjb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgYnV0dG9uKQogICAgY29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsIGlzTW9iaWxlIGFuZCAxMiBvciAxNSkKICAgIAogICAgLS0gR3JhZGllbnQgZWZmZWN0CiAgICBsb2NhbCBncmFkaWVudCA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIsIGJ1dHRvbikKICAgIGdyYWRpZW50LkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CiAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBncmFkaWVudENvbG9yc1sxXSksCiAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjUsIGdyYWRpZW50Q29sb3JzWzJdKSwKICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIGdyYWRpZW50Q29sb3JzWzNdKQogICAgfQogICAgZ3JhZGllbnQuUm90YXRpb24gPSA0NQogICAgCiAgICAtLSBQcm9mZXNzaW9uYWwgZ2xvdyBzdHJva2UKICAgIGxvY2FsIHN0cm9rZSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiLCBidXR0b24pCiAgICBzdHJva2UuQ29sb3IgPSBncmFkaWVudENvbG9yc1syXQogICAgc3Ryb2tlLlRyYW5zcGFyZW5jeSA9IDAuMwogICAgc3Ryb2tlLlRoaWNrbmVzcyA9IDMKICAgIHN0cm9rZS5BcHBseVN0cm9rZU1vZGUgPSBFbnVtLkFwcGx5U3Ryb2tlTW9kZS5Cb3JkZXIKICAgIAogICAgLS0gQnV0dG9uIGNvbnRlbnQgY29udGFpbmVyCiAgICBsb2NhbCBjb250ZW50RnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgYnV0dG9uKQogICAgY29udGVudEZyYW1lLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCkKICAgIGNvbnRlbnRGcmFtZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgY29udGVudEZyYW1lLlpJbmRleCA9IDQKICAgIAogICAgLS0gSWNvbgogICAgbG9jYWwgaWNvbkxhYmVsID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCBjb250ZW50RnJhbWUpCiAgICBpY29uTGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygwLCBpc01vYmlsZSBhbmQgMjAgb3IgMjQsIDEsIDApCiAgICBpY29uTGFiZWwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIDApCiAgICBpY29uTGFiZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIGljb25MYWJlbC5UZXh0ID0gaWNvbgogICAgaWNvbkxhYmVsLlRleHRDb2xvcjMgPSB0ZXh0Q29sb3IKICAgIGljb25MYWJlbC5UZXh0U2l6ZSA9IGlzTW9iaWxlIGFuZCAxNiBvciAxOAogICAgaWNvbkxhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgaWNvbkxhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5DZW50ZXIKICAgIGljb25MYWJlbC5UZXh0WUFsaWdubWVudCA9IEVudW0uVGV4dFlBbGlnbm1lbnQuQ2VudGVyCiAgICBpY29uTGFiZWwuWkluZGV4ID0gNQogICAgCiAgICAtLSBUZXh0IGxhYmVsCiAgICBsb2NhbCB0ZXh0TGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIGNvbnRlbnRGcmFtZSkKICAgIHRleHRMYWJlbC5TaXplID0gVURpbTIubmV3KDEsIC00MCwgMSwgMCkKICAgIHRleHRMYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAzNSwgMCwgMCkKICAgIHRleHRMYWJlbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgdGV4dExhYmVsLlRleHQgPSB0ZXh0CiAgICB0ZXh0TGFiZWwuVGV4dENvbG9yMyA9IHRleHRDb2xvcgogICAgdGV4dExhYmVsLlRleHRTaXplID0gQ29uZmlnLlRFWFRfU0laRVMuQlVUVE9OICsgMQogICAgdGV4dExhYmVsLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAogICAgdGV4dExhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CiAgICB0ZXh0TGFiZWwuVGV4dFlBbGlnbm1lbnQgPSBFbnVtLlRleHRZQWxpZ25tZW50LkNlbnRlcgogICAgdGV4dExhYmVsLlRleHRTY2FsZWQgPSB0cnVlCiAgICB0ZXh0TGFiZWwuWkluZGV4ID0gNQogICAgCiAgICAtLSBQcm9mZXNzaW9uYWwgaG92ZXIgZWZmZWN0cwogICAgbG9jYWwgZnVuY3Rpb24gY3JlYXRlSG92ZXJFZmZlY3QoKQogICAgICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAgICAgbG9jYWwgb3JpZ2luYWxUcmFuc3BhcmVuY3kgPSBidXR0b24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeQogICAgICAgICAgICBsb2NhbCBvcmlnaW5hbFN0cm9rZVRyYW5zcGFyZW5jeSA9IHN0cm9rZS5UcmFuc3BhcmVuY3kKICAgICAgICAgICAgCiAgICAgICAgICAgIC0tIFB1bHNlIGFuaW1hdGlvbgogICAgICAgICAgICBsb2NhbCBwdWxzZUluZm8gPSBUd2VlbkluZm8ubmV3KDEuNSwgRW51bS5FYXNpbmdTdHlsZS5TaW5lLCBFbnVtLkVhc2luZ0RpcmVjdGlvbi5Jbk91dCwgLTEsIHRydWUpCiAgICAgICAgICAgIGxvY2FsIHB1bHNlVHdlZW4gPSBUd2VlblNlcnZpY2U6Q3JlYXRlKHN0cm9rZSwgcHVsc2VJbmZvLCB7CiAgICAgICAgICAgICAgICBUcmFuc3BhcmVuY3kgPSAwLjEKICAgICAgICAgICAgfSkKICAgICAgICAgICAgcHVsc2VUd2VlbjpQbGF5KCkKICAgICAgICAgICAgCiAgICAgICAgICAgIGJ1dHRvbi5Nb3VzZUVudGVyOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZShidXR0b24sIFR3ZWVuSW5mby5uZXcoMC4yLCBFbnVtLkVhc2luZ1N0eWxlLlF1YWQpLCB7CiAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuMDUKICAgICAgICAgICAgICAgIH0pOlBsYXkoKQogICAgICAgICAgICAgICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZShzdHJva2UsIFR3ZWVuSW5mby5uZXcoMC4yLCBFbnVtLkVhc2luZ1N0eWxlLlF1YWQpLCB7CiAgICAgICAgICAgICAgICAgICAgVHJhbnNwYXJlbmN5ID0gMC4xLAogICAgICAgICAgICAgICAgICAgIFRoaWNrbmVzcyA9IDQKICAgICAgICAgICAgICAgIH0pOlBsYXkoKQogICAgICAgICAgICBlbmQpCiAgICAgICAgICAgIAogICAgICAgICAgICBidXR0b24uTW91c2VMZWF2ZTpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIFR3ZWVuU2VydmljZTpDcmVhdGUoYnV0dG9uLCBUd2VlbkluZm8ubmV3KDAuMiwgRW51bS5FYXNpbmdTdHlsZS5RdWFkKSwgewogICAgICAgICAgICAgICAgICAgIEJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSBvcmlnaW5hbFRyYW5zcGFyZW5jeQogICAgICAgICAgICAgICAgfSk6UGxheSgpCiAgICAgICAgICAgICAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKHN0cm9rZSwgVHdlZW5JbmZvLm5ldygwLjIsIEVudW0uRWFzaW5nU3R5bGUuUXVhZCksIHsKICAgICAgICAgICAgICAgICAgICBUcmFuc3BhcmVuY3kgPSBvcmlnaW5hbFN0cm9rZVRyYW5zcGFyZW5jeSwKICAgICAgICAgICAgICAgICAgICBUaGlja25lc3MgPSAzCiAgICAgICAgICAgICAgICB9KTpQbGF5KCkKICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAKICAgICAgICAgICAgYnV0dG9uLk1vdXNlQnV0dG9uMURvd246Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAtLSBSZW1vdmVkIHNpemUgYW5pbWF0aW9uIGZvciBEaXNjb3JkIGJ1dHRvbiBzdGFiaWxpdHkKICAgICAgICAgICAgICAgIC0tIE9yaWdpbmFsOiBTaXplID0gVURpbTIubmV3KDAuOTgsIDAsIDAuOTUsIDApCiAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgCiAgICAgICAgICAgIGJ1dHRvbi5Nb3VzZUJ1dHRvbjFVcDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgIC0tIFJlbW92ZWQgc2l6ZSBhbmltYXRpb24gZm9yIERpc2NvcmQgYnV0dG9uIHN0YWJpbGl0eSAgCiAgICAgICAgICAgICAgICAtLSBPcmlnaW5hbDogU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQogICAgICAgICAgICBlbmQpCiAgICAgICAgZW5kKQogICAgZW5kCiAgICAKICAgIGNyZWF0ZUhvdmVyRWZmZWN0KCkKICAgIHJldHVybiBidXR0b24KZW5kCgotLSBDcmVhdGUgcHJvZmVzc2lvbmFsIG1hbnVhbCBob3AgYnV0dG9uIChsZWZ0IHNpZGUpCmxvY2FsIG1hbnVhbEhvcEJ0biA9IGNyZWF0ZVByb2Zlc3Npb25hbEJ1dHRvbigKICAgICJIb3AgU2VydmVyIiwgCiAgICBVRGltMi5uZXcoMCwgMCwgMCwgMCksIAogICAgewogICAgICAgIENvbG9yMy5mcm9tUkdCKDIwLCAyMCwgMjApLCAgIC0tIERhcmsgYmxhY2sKICAgICAgICBDb2xvcjMuZnJvbVJHQig0MCwgNDAsIDQwKSwgICAtLSBNZWRpdW0gYmxhY2sgIAogICAgICAgIENvbG9yMy5mcm9tUkdCKDYwLCA2MCwgNjApICAgIC0tIExpZ2h0IGJsYWNrL2dyYXkKICAgIH0sCiAgICBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KSwKICAgICLwn4yQIgopCi0tIFJlc2l6ZSBob3AgYnV0dG9uIHRvIHRha2UgbGVmdCBoYWxmCm1hbnVhbEhvcEJ0bi5TaXplID0gVURpbTIubmV3KDAuNDgsIDAsIDEsIDApCm1hbnVhbEhvcEJ0bi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQotLSBNYWtlIGhvcCBidXR0b24gbW9yZSB0cmFuc3BhcmVudCBmb3IgYmxhY2sgZ3JhZGllbnQKbWFudWFsSG9wQnRuLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjUKCi0tIPCflIQgUHJvZmVzc2lvbmFsIE1haW4gVG9nZ2xlIEJ1dHRvbiAocmlnaHQgc2lkZSkKbG9jYWwgdG9nZ2xlQnV0dG9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiwgYnV0dG9uQ29udGFpbmVyKQp0b2dnbGVCdXR0b24uVGV4dCA9ICIiCnRvZ2dsZUJ1dHRvbi5TaXplID0gVURpbTIubmV3KDAuNDgsIDAsIDEsIDApCnRvZ2dsZUJ1dHRvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUyLCAwLCAwLCAwKQp0b2dnbGVCdXR0b24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwLCAyMCwgMjApICAtLSBEYXJrIGJsYWNrIGZvciBkaXNjb25uZWN0ZWQgc3RhdGUKdG9nZ2xlQnV0dG9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjUgIC0tIE1vcmUgdHJhbnNwYXJlbnQgbGlrZSBob3AgYnV0dG9uCnRvZ2dsZUJ1dHRvbi5Cb3JkZXJTaXplUGl4ZWwgPSAwCnRvZ2dsZUJ1dHRvbi5aSW5kZXggPSAzCgotLSBQcm9mZXNzaW9uYWwgcm91bmRlZCBjb3JuZXJzIGZvciBtYWluIGJ1dHRvbgpsb2NhbCB0b2dnbGVDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgdG9nZ2xlQnV0dG9uKQp0b2dnbGVDb3JuZXIuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwgaXNNb2JpbGUgYW5kIDE1IG9yIDE4KQoKLS0gRHluYW1pYyBncmFkaWVudCBmb3IgbWFpbiBidXR0b24KbG9jYWwgdG9nZ2xlR3JhZGllbnQgPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiLCB0b2dnbGVCdXR0b24pCnRvZ2dsZUdyYWRpZW50LkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CiAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5mcm9tUkdCKDIwLCAyMCwgMjApKSwgICAtLSBEYXJrIGJsYWNrCiAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNSwgQ29sb3IzLmZyb21SR0IoNDAsIDQwLCA0MCkpLCAtLSBNZWRpdW0gYmxhY2sgIAogICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig2MCwgNjAsIDYwKSkgICAgLS0gTGlnaHQgYmxhY2svZ3JheQp9CnRvZ2dsZUdyYWRpZW50LlJvdGF0aW9uID0gNDUKCi0tIFByb2Zlc3Npb25hbCBnbG93IGVmZmVjdCBmb3IgbWFpbiBidXR0b24KbG9jYWwgdG9nZ2xlU3Ryb2tlID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIsIHRvZ2dsZUJ1dHRvbikKdG9nZ2xlU3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoNDAsIDQwLCA0MCkgIC0tIE1hdGNoIGhvcCBzZXJ2ZXIgc3Ryb2tlIGNvbG9yCnRvZ2dsZVN0cm9rZS5UcmFuc3BhcmVuY3kgPSAwLjIKdG9nZ2xlU3Ryb2tlLlRoaWNrbmVzcyA9IDQKdG9nZ2xlU3Ryb2tlLkFwcGx5U3Ryb2tlTW9kZSA9IEVudW0uQXBwbHlTdHJva2VNb2RlLkJvcmRlcgoKLS0gTWFpbiBidXR0b24gY29udGVudCBjb250YWluZXIKbG9jYWwgdG9nZ2xlQ29udGVudCA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCB0b2dnbGVCdXR0b24pCnRvZ2dsZUNvbnRlbnQuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKQp0b2dnbGVDb250ZW50LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCnRvZ2dsZUNvbnRlbnQuWkluZGV4ID0gNAoKLS0gTWFpbiBidXR0b24gaWNvbgpsb2NhbCB0b2dnbGVJY29uID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCB0b2dnbGVDb250ZW50KQp0b2dnbGVJY29uLlNpemUgPSBVRGltMi5uZXcoMCwgaXNNb2JpbGUgYW5kIDI4IG9yIDMyLCAxLCAwKQp0b2dnbGVJY29uLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDE1LCAwLCAwKQp0b2dnbGVJY29uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCnRvZ2dsZUljb24uVGV4dCA9ICLimqEiCnRvZ2dsZUljb24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCnRvZ2dsZUljb24uVGV4dFNpemUgPSBpc01vYmlsZSBhbmQgMjAgb3IgMjQKdG9nZ2xlSWNvbi5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKdG9nZ2xlSWNvbi5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuQ2VudGVyCnRvZ2dsZUljb24uVGV4dFlBbGlnbm1lbnQgPSBFbnVtLlRleHRZQWxpZ25tZW50LkNlbnRlcgp0b2dnbGVJY29uLlpJbmRleCA9IDUKCi0tIE1haW4gYnV0dG9uIHRleHQKbG9jYWwgdG9nZ2xlVGV4dCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgdG9nZ2xlQ29udGVudCkKdG9nZ2xlVGV4dC5TaXplID0gVURpbTIubmV3KDEsIC02MCwgMSwgMCkKdG9nZ2xlVGV4dC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCA1MCwgMCwgMCkKdG9nZ2xlVGV4dC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQp0b2dnbGVUZXh0LlRleHQgPSAiQ09OTkVDVCIKdG9nZ2xlVGV4dC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKdG9nZ2xlVGV4dC5UZXh0U2l6ZSA9IENvbmZpZy5URVhUX1NJWkVTLkJVVFRPTiArIDIKdG9nZ2xlVGV4dC5Gb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQKdG9nZ2xlVGV4dC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAp0b2dnbGVUZXh0LlRleHRZQWxpZ25tZW50ID0gRW51bS5UZXh0WUFsaWdubWVudC5DZW50ZXIKdG9nZ2xlVGV4dC5UZXh0U2NhbGVkID0gdHJ1ZQp0b2dnbGVUZXh0LlpJbmRleCA9IDUKCi0tIFByb2Zlc3Npb25hbCBtYWluIGJ1dHRvbiBhbmltYXRpb25zCnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRvZ2dsZUJ1dHRvbi5QYXJlbnQgZG8KICAgICAgICAtLSBEeW5hbWljIGdyYWRpZW50IHJvdGF0aW9uCiAgICAgICAgZm9yIGkgPSAwLCAzNjAsIDIgZG8KICAgICAgICAgICAgaWYgbm90IHRvZ2dsZUJ1dHRvbi5QYXJlbnQgdGhlbiBicmVhayBlbmQKICAgICAgICAgICAgdG9nZ2xlR3JhZGllbnQuUm90YXRpb24gPSBpCiAgICAgICAgICAgIHdhaXQoMC4wNSkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCgotLSBGdW5jdGlvbiB0byB1cGRhdGUgYnV0dG9uIGFwcGVhcmFuY2UgYmFzZWQgb24gY29ubmVjdGlvbiBzdGF0ZQpsb2NhbCBmdW5jdGlvbiB1cGRhdGVCdXR0b25TdGF0ZSgpCiAgICBpZiBub3QgaXNDb25uZWN0ZWQgdGhlbgogICAgICAgIC0tIERpc2Nvbm5lY3RlZCBzdGF0ZSAtIGJsYWNrIHRyYW5zcGFyZW50IGdyYWRpZW50IChzYW1lIGFzIGhvcCBzZXJ2ZXIpCiAgICAgICAgdG9nZ2xlR3JhZGllbnQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sKICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQigyMCwgMjAsIDIwKSksICAgLS0gRGFyayBibGFjawogICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNSwgQ29sb3IzLmZyb21SR0IoNDAsIDQwLCA0MCkpLCAtLSBNZWRpdW0gYmxhY2sKICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig2MCwgNjAsIDYwKSkgICAgLS0gTGlnaHQgYmxhY2svZ3JheQogICAgICAgIH0KICAgICAgICB0b2dnbGVTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQig0MCwgNDAsIDQwKSAgLS0gTWF0Y2ggaG9wIHNlcnZlciBzdHJva2UKICAgICAgICB0b2dnbGVCdXR0b24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuNSAgLS0gVHJhbnNwYXJlbnQKICAgICAgICB0b2dnbGVJY29uLlRleHQgPSAi4pqhIgogICAgICAgIHRvZ2dsZVRleHQuVGV4dCA9ICJDT05ORUNUIgogICAgZWxzZQogICAgICAgIC0tIENvbm5lY3RlZCBzdGF0ZSAtIGdyZWVuIGdyYWRpZW50CiAgICAgICAgdG9nZ2xlR3JhZGllbnQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sKICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQig0NSwgMjU1LCA4NSkpLAogICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNSwgQ29sb3IzLmZyb21SR0IoNjUsIDI1NSwgMTA1KSksCiAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoODUsIDI1NSwgMTI1KSkKICAgICAgICB9CiAgICAgICAgdG9nZ2xlU3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoNTAsIDI1NSwgMTAwKQogICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4wNSAgLS0gTGVzcyB0cmFuc3BhcmVudCB3aGVuIGNvbm5lY3RlZAogICAgICAgIHRvZ2dsZUljb24uVGV4dCA9ICLinYwiCiAgICAgICAgdG9nZ2xlVGV4dC5UZXh0ID0gIkRJU0NPTk5FQ1QiCiAgICBlbmQKZW5kCgotLSBQcm9mZXNzaW9uYWwgYnV0dG9uIHN0YXRlIG1hbmFnZW1lbnQKc3Bhd24oZnVuY3Rpb24oKQogICAgbG9jYWwgY3ljbGUgPSAwCiAgICB3aGlsZSB0b2dnbGVCdXR0b24uUGFyZW50IGRvCiAgICAgICAgY3ljbGUgPSBjeWNsZSArIDEKICAgICAgICAKICAgICAgICBpZiBub3QgaXNDb25uZWN0ZWQgdGhlbgogICAgICAgICAgICAtLSBQdWxzZSBlZmZlY3QgZm9yIGRpc2Nvbm5lY3RlZCBzdGF0ZQogICAgICAgICAgICBsb2NhbCBwdWxzZUludGVuc2l0eSA9IChtYXRoLnNpbihtYXRoLnJhZChjeWNsZSAqIDgpKSArIDEpICogMC4xICsgMC4xCiAgICAgICAgICAgIHRvZ2dsZVN0cm9rZS5UcmFuc3BhcmVuY3kgPSBwdWxzZUludGVuc2l0eQogICAgICAgIGVsc2UKICAgICAgICAgICAgLS0gR3JlZW4gcHVsc2Ugd2hlbiBjb25uZWN0ZWQKICAgICAgICAgICAgbG9jYWwgZ3JlZW5QdWxzZSA9IChtYXRoLnNpbihtYXRoLnJhZChjeWNsZSAqIDYpKSArIDEpICogMC4wNSArIDAuMTUKICAgICAgICAgICAgdG9nZ2xlU3Ryb2tlLlRyYW5zcGFyZW5jeSA9IGdyZWVuUHVsc2UKICAgICAgICBlbmQKICAgICAgICAKICAgICAgICB3YWl0KDAuMDQpIC0tIFNtb290aCAyNWZwcyBhbmltYXRpb24KICAgIGVuZAplbmQpCgotLSBQcm9mZXNzaW9uYWwgaG92ZXIgZWZmZWN0cyBmb3IgbWFpbiBidXR0b24KdG9nZ2xlQnV0dG9uLk1vdXNlRW50ZXI6Q29ubmVjdChmdW5jdGlvbigpCiAgICBUd2VlblNlcnZpY2U6Q3JlYXRlKHRvZ2dsZUJ1dHRvbiwgVHdlZW5JbmZvLm5ldygwLjIsIEVudW0uRWFzaW5nU3R5bGUuUXVhZCksIHsKICAgICAgICBCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC4zCiAgICB9KTpQbGF5KCkKICAgIFR3ZWVuU2VydmljZTpDcmVhdGUodG9nZ2xlU3Ryb2tlLCBUd2VlbkluZm8ubmV3KDAuMiwgRW51bS5FYXNpbmdTdHlsZS5RdWFkKSwgewogICAgICAgIFRoaWNrbmVzcyA9IDUKICAgIH0pOlBsYXkoKQplbmQpCgp0b2dnbGVCdXR0b24uTW91c2VMZWF2ZTpDb25uZWN0KGZ1bmN0aW9uKCkKICAgIFR3ZWVuU2VydmljZTpDcmVhdGUodG9nZ2xlQnV0dG9uLCBUd2VlbkluZm8ubmV3KDAuMiwgRW51bS5FYXNpbmdTdHlsZS5RdWFkKSwgewogICAgICAgIEJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjUKICAgIH0pOlBsYXkoKQogICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSh0b2dnbGVTdHJva2UsIFR3ZWVuSW5mby5uZXcoMC4yLCBFbnVtLkVhc2luZ1N0eWxlLlF1YWQpLCB7CiAgICAgICAgVGhpY2tuZXNzID0gNAogICAgfSk6UGxheSgpCmVuZCkKCnRvZ2dsZUJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgVHdlZW5TZXJ2aWNlOkNyZWF0ZSh0b2dnbGVCdXR0b24sIFR3ZWVuSW5mby5uZXcoMC4xLCBFbnVtLkVhc2luZ1N0eWxlLlF1YWQpLCB7CiAgICAgICAgU2l6ZSA9IFVEaW0yLm5ldygwLjQ3LCAwLCAwLjk1LCAwKQogICAgfSk6UGxheSgpCmVuZCkKCnRvZ2dsZUJ1dHRvbi5Nb3VzZUJ1dHRvbjFVcDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgIFR3ZWVuU2VydmljZTpDcmVhdGUodG9nZ2xlQnV0dG9uLCBUd2VlbkluZm8ubmV3KDAuMSwgRW51bS5FYXNpbmdTdHlsZS5CYWNrKSwgewogICAgICAgIFNpemUgPSBVRGltMi5uZXcoMC40OCwgMCwgMSwgMCkKICAgIH0pOlBsYXkoKQplbmQpCgotLSDinKggRW50cmFuY2UgQW5pbWF0aW9uCmZyYW1lLlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCgpUd2VlblNlcnZpY2U6Q3JlYXRlKGZyYW1lLCBUd2VlbkluZm8ubmV3KDAuNiwgRW51bS5FYXNpbmdTdHlsZS5CYWNrLCBFbnVtLkVhc2luZ0RpcmVjdGlvbi5PdXQpLCB7CiAgICBTaXplID0gVURpbTIubmV3KDAsIENvbmZpZy5GUkFNRV9TSVpFLldJRFRILCAwLCBDb25maWcuRlJBTUVfU0laRS5IRUlHSFQpLAogICAgUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAtQ29uZmlnLkZSQU1FX1NJWkUuV0lEVEgvMiwgMC41LCAtQ29uZmlnLkZSQU1FX1NJWkUuSEVJR0hULzIpCn0pOlBsYXkoKQoKLS0g8J+SrCBEaXNjb3JkIEJ1dHRvbiAoY2VudGVyZWQgYXQgYm90dG9tKQpsb2NhbCBkaXNjb3JkQnV0dG9uID0gY3JlYXRlUHJvZmVzc2lvbmFsQnV0dG9uKAogICAgImRpc2NvcmQuZ2cva29udG9saHViIiwgCiAgICBVRGltMi5uZXcoMCwgMCwgMCwgMCksIAogICAgewogICAgICAgIENvbG9yMy5mcm9tUkdCKDIwLCAyMCwgMjApLCAgIC0tIERhcmsgYmxhY2sgKHNhbWUgYXMgaG9wIHNlcnZlcikKICAgICAgICBDb2xvcjMuZnJvbVJHQig0MCwgNDAsIDQwKSwgICAtLSBNZWRpdW0gYmxhY2sgKHNhbWUgYXMgaG9wIHNlcnZlcikKICAgICAgICBDb2xvcjMuZnJvbVJHQig2MCwgNjAsIDYwKSAgICAtLSBMaWdodCBibGFjay9ncmF5IChzYW1lIGFzIGhvcCBzZXJ2ZXIpCiAgICB9LAogICAgQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSksCiAgICAi8J+SrCIKKQoKLS0gUG9zaXRpb24gRGlzY29yZCBidXR0b24gYmVsb3cgdGhlIG1haW4gYnV0dG9ucwpkaXNjb3JkQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgLTIwLCAwLCBpc01vYmlsZSBhbmQgMzggb3IgNDIpCmRpc2NvcmRCdXR0b24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIGlzTW9iaWxlIGFuZCAxNjggb3IgMTg4KQpkaXNjb3JkQnV0dG9uLlBhcmVudCA9IGZyYW1lCmRpc2NvcmRCdXR0b24uWkluZGV4ID0gMwotLSBNYWtlIERpc2NvcmQgYnV0dG9uIG1vcmUgdHJhbnNwYXJlbnQgbGlrZSBob3AgYnV0dG9uCmRpc2NvcmRCdXR0b24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuNQoKLS0g8J+TnSBDcmVkaXQgVGV4dCAoYm90dG9tIGxlZnQgY29ybmVyKSAtIHBvc2l0aW9uZWQgY2xvc2VyIHRvIERpc2NvcmQgYnV0dG9uCmxvY2FsIGNyZWRpdFRleHQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIGZyYW1lKQpjcmVkaXRUZXh0LlNpemUgPSBVRGltMi5uZXcoMC42LCAwLCAwLCBpc01vYmlsZSBhbmQgMjAgb3IgMjIpCmNyZWRpdFRleHQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIGlzTW9iaWxlIGFuZCAyMTUgb3IgMjQwKQpjcmVkaXRUZXh0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCmNyZWRpdFRleHQuVGV4dCA9ICJNYWRlIEJ5IEtPTlRPTCBIVUIg4pig77iPIgpjcmVkaXRUZXh0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNTAsIDE1MCwgMTUwKSAgLS0gR3JheSBjb2xvcgpjcmVkaXRUZXh0LkZvbnQgPSBFbnVtLkZvbnQuR290aGFtCmNyZWRpdFRleHQuVGV4dFNpemUgPSBpc01vYmlsZSBhbmQgMTEgb3IgMTMgIC0tIEluY3JlYXNlZCBmb250IHNpemUgZm9yIGJldHRlciByZWFkYWJpbGl0eQpjcmVkaXRUZXh0LlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CmNyZWRpdFRleHQuVGV4dFlBbGlnbm1lbnQgPSBFbnVtLlRleHRZQWxpZ25tZW50LkNlbnRlcgpjcmVkaXRUZXh0LlpJbmRleCA9IDUKCi0tIERpc2NvcmQgYnV0dG9uIGNsaWNrIGhhbmRsZXIgLSBFbmhhbmNlZCBjb3B5IHdpdGggcHJvcGVyIHN0YXR1cyBtYW5hZ2VtZW50CmRpc2NvcmRCdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCiAgICBwcmludCgi8J+SrCBLT05UT0wgSFVCOiBEaXNjb3JkIGJ1dHRvbiBjbGlja2VkISIpCiAgICAKICAgIC0tIEtPTlRPTCBIVUIgRGlzY29yZCBsaW5rIGZvciBjb3B5aW5nCiAgICBsb2NhbCBkaXNjb3JkVGV4dCA9ICJkaXNjb3JkLmdnL2tvbnRvbGh1YiIKICAgIGxvY2FsIGRpc2NvcmRJbnZpdGUgPSAiaHR0cHM6Ly9kaXNjb3JkLmdnL2tvbnRvbGh1YiIKICAgIAogICAgLS0gVXNlIHN0YXR1c0xhYmVsIGRpcmVjdGx5IHNpbmNlIHVwZGF0ZVN0YXR1cyBpcyBkZWZpbmVkIGxhdGVyCiAgICBzdGF0dXNMYWJlbC5UZXh0ID0gIvCfkqwgQ29weWluZyBEaXNjb3JkIGxpbmsuLi4iCiAgICBwcmludCgi8J+SrCBLT05UT0wgSFVCOiBBdHRlbXB0aW5nIHRvIGNvcHkgRGlzY29yZCBsaW5rIHRvIGNsaXBib2FyZC4uLiIpCiAgICAKICAgIC0tIFRyeSB0byBjb3B5IHRvIGNsaXBib2FyZCB1c2luZyBkaWZmZXJlbnQgbWV0aG9kcwogICAgbG9jYWwgY29weVN1Y2Nlc3MgPSBmYWxzZQogICAgCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgLS0gVHJ5IGRpZmZlcmVudCBjbGlwYm9hcmQgbWV0aG9kcwogICAgICAgIGlmIHNldGNsaXBib2FyZCB0aGVuCiAgICAgICAgICAgIHNldGNsaXBib2FyZChkaXNjb3JkSW52aXRlKQogICAgICAgICAgICBjb3B5U3VjY2VzcyA9IHRydWUKICAgICAgICAgICAgcHJpbnQoIuKchSBLT05UT0wgSFVCOiBEaXNjb3JkIGxpbmsgY29waWVkIHVzaW5nIHNldGNsaXBib2FyZCIpCiAgICAgICAgZWxzZWlmIHRvY2xpcGJvYXJkIHRoZW4KICAgICAgICAgICAgdG9jbGlwYm9hcmQoZGlzY29yZEludml0ZSkKICAgICAgICAgICAgY29weVN1Y2Nlc3MgPSB0cnVlCiAgICAgICAgICAgIHByaW50KCLinIUgS09OVE9MIEhVQjogRGlzY29yZCBsaW5rIGNvcGllZCB1c2luZyB0b2NsaXBib2FyZCIpCiAgICAgICAgZWxzZWlmIENsaXBib2FyZCBhbmQgQ2xpcGJvYXJkLnNldCB0aGVuCiAgICAgICAgICAgIENsaXBib2FyZC5zZXQoZGlzY29yZEludml0ZSkKICAgICAgICAgICAgY29weVN1Y2Nlc3MgPSB0cnVlCiAgICAgICAgICAgIHByaW50KCLinIUgS09OVE9MIEhVQjogRGlzY29yZCBsaW5rIGNvcGllZCB1c2luZyBDbGlwYm9hcmQuc2V0IikKICAgICAgICBlbHNlaWYgd3JpdGVjbGlwYm9hcmQgdGhlbgogICAgICAgICAgICB3cml0ZWNsaXBib2FyZChkaXNjb3JkSW52aXRlKQogICAgICAgICAgICBjb3B5U3VjY2VzcyA9IHRydWUKICAgICAgICAgICAgcHJpbnQoIuKchSBLT05UT0wgSFVCOiBEaXNjb3JkIGxpbmsgY29waWVkIHVzaW5nIHdyaXRlY2xpcGJvYXJkIikKICAgICAgICBlbmQKICAgIGVuZCkKICAgIAogICAgaWYgY29weVN1Y2Nlc3MgdGhlbgogICAgICAgIHN0YXR1c0xhYmVsLlRleHQgPSAi4pyFIERpc2NvcmQgbGluayBjb3BpZWQhIgogICAgICAgIGpvYkJveC5UZXh0ID0gIuKchSBDT1BJRUQ6ICIgLi4gZGlzY29yZEludml0ZQogICAgICAgIHByaW50KCLinIUgS09OVE9MIEhVQjogRGlzY29yZCBsaW5rIHN1Y2Nlc3NmdWxseSBjb3BpZWQgdG8gY2xpcGJvYXJkISIpCiAgICBlbHNlCiAgICAgICAgc3RhdHVzTGFiZWwuVGV4dCA9ICLwn5KsIE1hbnVhbDogIiAuLiBkaXNjb3JkVGV4dAogICAgICAgIGpvYkJveC5UZXh0ID0gIk1hbnVhbCBjb3B5OiAiIC4uIGRpc2NvcmRJbnZpdGUKICAgICAgICBwcmludCgi4pqg77iPIEtPTlRPTCBIVUI6IEZhaWxlZCB0byBjb3B5IERpc2NvcmQgbGluaywgc2hvd2luZyBtYW51YWwgY29weSIpCiAgICBlbmQKICAgIAogICAgLS0gQ2xlYXIgbWVzc2FnZSBhZnRlciA0IHNlY29uZHMgYW5kIHJlc3RvcmUgc3RhdHVzCiAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgd2FpdCg0KQogICAgICAgIHN0YXR1c0xhYmVsLlRleHQgPSAi8J+agCBLT05UT0wgSFVCIC0gUmVhZHkgZm9yIFpFUk8gREVMQVkgam9pbmluZyEiCiAgICAgICAgam9iQm94LlRleHQgPSAiIgogICAgICAgIHByaW50KCLwn5SEIEtPTlRPTCBIVUI6IERpc2NvcmQgY29weSBtZXNzYWdlIGNsZWFyZWQsIHN0YXR1cyByZXN0b3JlZCIpCiAgICBlbmQpCmVuZCkKCi0tIFZhcmlhYmxlcyBmb3IgYXV0b2pvaW5lciBmdW5jdGlvbmFsaXR5CmxvY2FsIGlzQ29ubmVjdGVkID0gZmFsc2UKbG9jYWwgc29ja2V0ID0gbmlsCmxvY2FsIGlzQXV0b2pvaW5lckVuYWJsZWQgPSBmYWxzZQpsb2NhbCBodHRwUG9sbGluZyA9IGZhbHNlCgotLSBGdW5jdGlvbiB0byB1cGRhdGUgc3RhdHVzIGRpc3BsYXkKbG9jYWwgZnVuY3Rpb24gdXBkYXRlU3RhdHVzKG1lc3NhZ2UpCiAgICBzdGF0dXNMYWJlbC5UZXh0ID0gbWVzc2FnZQplbmQKCi0tIEJBQ0tVUDogVWx0cmEtZmFzdCBIVFRQIHBvbGxpbmcgc3lzdGVtIGZvciByZWFsLXRpbWUgSm9iIElEIGRldGVjdGlvbgpsb2NhbCBmdW5jdGlvbiBzdGFydEh0dHBQb2xsaW5nKCkKICAgIGh0dHBQb2xsaW5nID0gdHJ1ZQogICAgcHJpbnQoIuKaoSBLT05UT0wgSFVCOiBTdGFydGluZyBIVFRQIGNsaXBib2FyZCBwb2xsaW5nIG1vZGUuLi4iKQogICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgIHVwZGF0ZVN0YXR1cygi4pqhIFJFQUwtVElNRSBjbGlwYm9hcmQgbW9kZSBhY3RpdmUhIikKICAgICAgICBsb2NhbCBsYXN0Q2xpcGJvYXJkID0gIiIKICAgICAgICAKICAgICAgICB3aGlsZSBodHRwUG9sbGluZyBhbmQgaXNDb25uZWN0ZWQgZG8KICAgICAgICAgICAgbG9jYWwgc3VjY2VzcywgY2xpcGJvYXJkID0gcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgLS0gVHJ5IG11bHRpcGxlIGNsaXBib2FyZCBtZXRob2RzIGZvciBjb21wYXRpYmlsaXR5CiAgICAgICAgICAgICAgICBpZiBnZXRjbGlwYm9hcmQgdGhlbgogICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRjbGlwYm9hcmQoKQogICAgICAgICAgICAgICAgZWxzZWlmIENsaXBib2FyZCBhbmQgQ2xpcGJvYXJkLmdldCB0aGVuCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENsaXBib2FyZC5nZXQoKQogICAgICAgICAgICAgICAgZWxzZWlmIHNldGNsaXBib2FyZCB0aGVuCiAgICAgICAgICAgICAgICAgICAgLS0gSWYgd2UgaGF2ZSBzZXRjbGlwYm9hcmQsIHdlIGxpa2VseSBoYXZlIGdldGNsaXBib2FyZCB0b28KICAgICAgICAgICAgICAgICAgICByZXR1cm4gIiIKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIiIKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQpCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBzdWNjZXNzIGFuZCBjbGlwYm9hcmQgYW5kIGNsaXBib2FyZCB+PSBsYXN0Q2xpcGJvYXJkIGFuZCBjbGlwYm9hcmQgfj0gIiIgdGhlbgogICAgICAgICAgICAgICAgLS0gQ2hlY2sgaWYgaXQncyBhIHZhbGlkIEpvYiBJRCAoVVVJRCBmb3JtYXQpCiAgICAgICAgICAgICAgICBsb2NhbCBqb2JJZCA9IHN0cmluZy5tYXRjaChjbGlwYm9hcmQsICIleCV4JXgleCV4JXgleCV4JS0leCV4JXgleCUtJXgleCV4JXglLSV4JXgleCV4JS0leCV4JXgleCV4JXgleCV4JXgleCV4JXgiKQogICAgICAgICAgICAgICAgaWYgam9iSWQgdGhlbgogICAgICAgICAgICAgICAgICAgIGxhc3RDbGlwYm9hcmQgPSBjbGlwYm9hcmQKICAgICAgICAgICAgICAgICAgICBqb2JCb3guVGV4dCA9IGpvYklkCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoIvCfk4sgS09OVE9MIEhVQjogSm9iIElEIGRldGVjdGVkIGZyb20gY2xpcGJvYXJkIC0gIiAuLiBqb2JJZCkKICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdGF0dXMoIuKaoSBJTlNUQU5UIEpvYiBJRCBkZXRlY3RlZDogIiAuLiBqb2JJZDpzdWIoMSw4KSAuLiAiLi4uIikKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiBpc0F1dG9qb2luZXJFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzKCLwn5qAIFpFUk8gREVMQVkgLSBUZWxlcG9ydGluZyBOT1chIikKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIvCfmoAgS09OVE9MIEhVQjogQXR0ZW1wdGluZyB0ZWxlcG9ydCB0byBKb2IgSUQ6ICIgLi4gam9iSWQpCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB0ZWxlcG9ydFN1Y2Nlc3MsIHRlbGVwb3J0RXJyID0gcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbGVwb3J0U2VydmljZTpUZWxlcG9ydFRvUGxhY2VJbnN0YW5jZShQTEFDRV9JRCwgam9iSWQsIFBsYXllcnMuTG9jYWxQbGF5ZXIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCB0ZWxlcG9ydFN1Y2Nlc3MgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCLinYwgS09OVE9MIEhVQjogVGVsZXBvcnQgZmFpbGVkIC0gIiAuLiB0b3N0cmluZyh0ZWxlcG9ydEVycikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIvCflIQgS09OVE9MIEhVQjogU2VydmVyIGxpa2VseSBmdWxsLCBzdGF5aW5nIGNvbm5lY3RlZCBmb3IgbmV4dCBKb2IgSUQuLi4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygi4p2MIFNlcnZlciBmdWxsISBXYWl0aW5nIGZvciBuZXh0IEpvYiBJRC4uLiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0gQ2xlYXIgdGhlIGZhaWxlZCBqb2IgSUQgYW5kIHN0YXkgY29ubmVjdGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGlzQ29ubmVjdGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygi4pqhIFJlYWR5IGZvciBuZXh0IEpvYiBJRCEiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9iQm94LlRleHQgPSAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzKCLinIUgUkVBTC1USU1FIGpvaW5pbmcgc2VydmVyLi4uIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgi4pyFIEtPTlRPTCBIVUI6IFN1Y2Nlc3NmdWxseSB0ZWxlcG9ydGluZyB0byBzZXJ2ZXIhIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIAogICAgICAgICAgICB3YWl0KDAuMDUpIC0tIDUwbXMgcG9sbGluZyAtIFVMVFJBIEZBU1QgZm9yIHplcm8gZGVsYXkKICAgICAgICBlbmQKICAgICAgICBwcmludCgi4pqqIEtPTlRPTCBIVUI6IEhUVFAgcG9sbGluZyBzdG9wcGVkIikKICAgIGVuZCkKZW5kCgotLSBGdW5jdGlvbiB0byBjb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXIKbG9jYWwgZnVuY3Rpb24gY29ubmVjdFRvU2VydmVyKCkKICAgIGlmIHNvY2tldCB0aGVuCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKSBzb2NrZXQ6Y2xvc2UoKSBlbmQpCiAgICAgICAgc29ja2V0ID0gbmlsCiAgICBlbmQKICAgIAogICAgaHR0cFBvbGxpbmcgPSBmYWxzZQogICAgCiAgICBzcGF3bihmdW5jdGlvbigpCiAgICAgICAgbG9jYWwgc3VjY2VzcywgZXJyID0gcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICB1cGRhdGVTdGF0dXMoIvCflIQgQ29ubmVjdGluZyB0byBzZXJ2ZXIuLi4iKQogICAgICAgICAgICAKICAgICAgICAgICAgLS0gVHJ5IFdlYlNvY2tldCBjb25uZWN0aW9uIHVzaW5nIHN5biBsaWJyYXJ5IG9yIG90aGVyIG1ldGhvZHMKICAgICAgICAgICAgbG9jYWwgd3NfdXJsID0gIndzOi8vbG9jYWxob3N0Ojg3NjUiCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSBDaGVjayBpZiBzeW4ud2Vic29ja2V0IGlzIGF2YWlsYWJsZSAoU3luYXBzZSBYKQogICAgICAgICAgICBpZiBzeW4gYW5kIHN5bi53ZWJzb2NrZXQgdGhlbgogICAgICAgICAgICAgICAgc29ja2V0ID0gc3luLndlYnNvY2tldC5jb25uZWN0KHdzX3VybCkKICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygi4pyFIFN5bmFwc2UgQ29ubmVjdGVkISBXYWl0aW5nIGZvciBDb3B5IEpvYiBJRC4uLiIpCiAgICAgICAgICAgIC0tIENoZWNrIGlmIFdlYlNvY2tldCBnbG9iYWwgaXMgYXZhaWxhYmxlCiAgICAgICAgICAgIGVsc2VpZiBXZWJTb2NrZXQgdGhlbgogICAgICAgICAgICAgICAgc29ja2V0ID0gV2ViU29ja2V0LmNvbm5lY3Qod3NfdXJsKQogICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzKCLinIUgQ29ubmVjdGVkISBXYWl0aW5nIGZvciBDb3B5IEpvYiBJRC4uLiIpCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIC0tIEZhbGxiYWNrIHRvIEhUVFAgcG9sbGluZyBtb2RlCiAgICAgICAgICAgICAgICBpc0Nvbm5lY3RlZCA9IHRydWUKICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygi4pqhIEhUVFAgUmVhbC10aW1lIG1vZGUhIikKICAgICAgICAgICAgICAgIHN0YXJ0SHR0cFBvbGxpbmcoKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAtLSBVcGRhdGUgYnV0dG9uIHN0YXRlIGZvciBIVFRQIG1vZGUKICAgICAgICAgICAgICAgIHRvZ2dsZUljb24uVGV4dCA9ICLinYwiCiAgICAgICAgICAgICAgICB0b2dnbGVUZXh0LlRleHQgPSAiRElTQ09OTkVDVCIKICAgICAgICAgICAgICAgIHRvZ2dsZUdyYWRpZW50LkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CiAgICAgICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQig0NSwgMjU1LCA4NSkpLAogICAgICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMC41LCBDb2xvcjMuZnJvbVJHQig2NSwgMjU1LCAxMDUpKSwKICAgICAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5mcm9tUkdCKDg1LCAyNTUsIDEyNSkpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0b2dnbGVTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQig1MCwgMjU1LCAxMDApCiAgICAgICAgICAgICAgICByZXR1cm4gLS0gRXhpdCBlYXJseSBmb3IgSFRUUCBtb2RlCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICAKICAgICAgICAgICAgaXNDb25uZWN0ZWQgPSB0cnVlCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSBVcGRhdGUgYnV0dG9uIHRvIHNob3cgY29ubmVjdGVkIHN0YXRlIGZvciBXZWJTb2NrZXQgbW9kZQogICAgICAgICAgICB0b2dnbGVJY29uLlRleHQgPSAi4p2MIgogICAgICAgICAgICB0b2dnbGVUZXh0LlRleHQgPSAiRElTQ09OTkVDVCIKICAgICAgICAgICAgdG9nZ2xlR3JhZGllbnQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sKICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoNDUsIDI1NSwgODUpKSwKICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMC41LCBDb2xvcjMuZnJvbVJHQig2NSwgMjU1LCAxMDUpKSwKICAgICAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoODUsIDI1NSwgMTI1KSkKICAgICAgICAgICAgfQogICAgICAgICAgICB0b2dnbGVTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQig1MCwgMjU1LCAxMDApCiAgICAgICAgICAgIAogICAgICAgICAgICAtLSBSRUFMLVRJTUUgbWVzc2FnZSBoYW5kbGVyIGZvciBJTlNUQU5UIEpvYiBJRCBwcm9jZXNzaW5nCiAgICAgICAgICAgIHNvY2tldC5Pbk1lc3NhZ2U6Q29ubmVjdChmdW5jdGlvbihtZXNzYWdlKQogICAgICAgICAgICAgICAgbG9jYWwgam9iSWQgPSBtZXNzYWdlCiAgICAgICAgICAgICAgICBpZiBqb2JJZCBhbmQgam9iSWQgfj0gIiIgdGhlbgogICAgICAgICAgICAgICAgICAgIGpvYkJveC5UZXh0ID0gam9iSWQKICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdGF0dXMoIuKaoSBJTlNUQU5UIFdlYlNvY2tldCBKb2IgSUQhIikKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiBpc0F1dG9qb2luZXJFbmFibGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzKCLwn5qAIFpFUk8gREVMQVkgLSBKb2luaW5nIE5PVyEiKQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLS0gSU1NRURJQVRFIHRlbGVwb3J0IHdpdGggbm8gZGVsYXlzCiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHRlbGVwb3J0U3VjY2VzcywgdGVsZXBvcnRFcnIgPSBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGVsZXBvcnRTZXJ2aWNlOlRlbGVwb3J0VG9QbGFjZUluc3RhbmNlKFBMQUNFX0lELCBqb2JJZCwgUGxheWVycy5Mb2NhbFBsYXllcikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90IHRlbGVwb3J0U3VjY2VzcyB0aGVuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIuKdjCBLT05UT0wgSFVCOiBXZWJTb2NrZXQgdGVsZXBvcnQgZmFpbGVkIC0gIiAuLiB0b3N0cmluZyh0ZWxlcG9ydEVycikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIvCflIQgS09OVE9MIEhVQjogU2VydmVyIGxpa2VseSBmdWxsLCBzdGF5aW5nIGNvbm5lY3RlZCBmb3IgbmV4dCBKb2IgSUQuLi4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygi4p2MIFNlcnZlciBmdWxsISBXYWl0aW5nIGZvciBuZXh0IEpvYiBJRC4uLiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0gQ2xlYXIgdGhlIGZhaWxlZCBqb2IgSUQgYW5kIHN0YXkgY29ubmVjdGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWl0KDMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGlzQ29ubmVjdGVkIHRoZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygi4pyFIFdlYlNvY2tldCBDb25uZWN0ZWQhIFdhaXRpbmcgZm9yIENvcHkgSm9iIElELi4uIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvYkJveC5UZXh0ID0gIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygi4pyFIFJFQUwtVElNRSBqb2luaW5nIHNlcnZlci4uLiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIuKchSBLT05UT0wgSFVCOiBTdWNjZXNzZnVsbHkgdGVsZXBvcnRpbmcgdG8gc2VydmVyIHZpYSBXZWJTb2NrZXQhIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgICAgICAgICBlbmQpCiAgICAgICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAKICAgICAgICAgICAgc29ja2V0Lk9uQ2xvc2U6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBwcmludCgi4pqg77iPIEtPTlRPTCBIVUI6IFdlYlNvY2tldCBjb25uZWN0aW9uIGxvc3QhIikKICAgICAgICAgICAgICAgIGlzQ29ubmVjdGVkID0gZmFsc2UKICAgICAgICAgICAgICAgIGlzQXV0b2pvaW5lckVuYWJsZWQgPSBmYWxzZQogICAgICAgICAgICAgICAgaHR0cFBvbGxpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgdXBkYXRlQnV0dG9uU3RhdGUoKQogICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzKCLinYwgQ29ubmVjdGlvbiBsb3N0ISBDbGljayBDT05ORUNUIHRvIHJldHJ5IikKICAgICAgICAgICAgZW5kKQogICAgICAgICAgICAKICAgICAgICBlbmQpCiAgICAgICAgCiAgICAgICAgaWYgbm90IHN1Y2Nlc3MgYW5kIG5vdCBpc0Nvbm5lY3RlZCB0aGVuCiAgICAgICAgICAgIHByaW50KCLinYwgS09OVE9MIEhVQjogQ29ubmVjdGlvbiBmYWlsZWQgLSAiIC4uIHRvc3RyaW5nKGVycikpCiAgICAgICAgICAgIHByaW50KCLwn5KhIEtPTlRPTCBIVUI6IE1ha2Ugc3VyZSBQeXRob24gc2VydmVyIGlzIHJ1bm5pbmchIikKICAgICAgICAgICAgaXNDb25uZWN0ZWQgPSBmYWxzZQogICAgICAgICAgICBodHRwUG9sbGluZyA9IGZhbHNlCiAgICAgICAgICAgIHRvZ2dsZUljb24uVGV4dCA9ICLimqEiCiAgICAgICAgICAgIHRvZ2dsZVRleHQuVGV4dCA9ICJDT05ORUNUIgogICAgICAgICAgICB0b2dnbGVHcmFkaWVudC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3ewogICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMuZnJvbVJHQigyMCwgMjAsIDIwKSksCiAgICAgICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNSwgQ29sb3IzLmZyb21SR0IoNDAsIDQwLCA0MCkpLAogICAgICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQig2MCwgNjAsIDYwKSkKICAgICAgICAgICAgfQogICAgICAgICAgICB0b2dnbGVTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQig0MCwgNDAsIDQwKQogICAgICAgICAgICB0b2dnbGVCdXR0b24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuNQogICAgICAgICAgICB1cGRhdGVTdGF0dXMoIuKdjCBDb25uZWN0aW9uIGZhaWxlZCAtIENoZWNrIFB5dGhvbiBzZXJ2ZXIhIikKICAgICAgICBlbmQKICAgIGVuZCkKZW5kCgotLSBGdW5jdGlvbiB0byBkaXNjb25uZWN0IGZyb20gc2VydmVyCmxvY2FsIGZ1bmN0aW9uIGRpc2Nvbm5lY3RGcm9tU2VydmVyKCkKICAgIHByaW50KCLwn5SMIEtPTlRPTCBIVUI6IERpc2Nvbm5lY3RpbmcgZnJvbSBzZXJ2ZXIuLi4iKQogICAgaWYgc29ja2V0IHRoZW4KICAgICAgICBwY2FsbChmdW5jdGlvbigpIHNvY2tldDpjbG9zZSgpIGVuZCkKICAgICAgICBzb2NrZXQgPSBuaWwKICAgIGVuZAogICAgaHR0cFBvbGxpbmcgPSBmYWxzZQogICAgaXNDb25uZWN0ZWQgPSBmYWxzZQogICAgaXNBdXRvam9pbmVyRW5hYmxlZCA9IGZhbHNlCiAgICB1cGRhdGVCdXR0b25TdGF0ZSgpCiAgICB1cGRhdGVTdGF0dXMoIuKaqiBEaXNjb25uZWN0ZWQiKQogICAgcHJpbnQoIuKaqiBLT05UT0wgSFVCOiBTdWNjZXNzZnVsbHkgZGlzY29ubmVjdGVkISIpCmVuZAoKLS0gR1VJIEV2ZW50IEhhbmRsZXJzCmNsb3NlQnRuLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgZGlzY29ubmVjdEZyb21TZXJ2ZXIoKQogICAgZ3VpOkRlc3Ryb3koKQplbmQpCgp0b2dnbGVCdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCiAgICBpZiBub3QgaXNDb25uZWN0ZWQgdGhlbgogICAgICAgIHByaW50KCLwn5SEIEtPTlRPTCBIVUI6IEF0dGVtcHRpbmcgdG8gY29ubmVjdC4uLiIpCiAgICAgICAgLS0gSW1tZWRpYXRlbHkgdXBkYXRlIHZpc3VhbCBzdGF0ZSB0byBzaG93IGNvbm5lY3RpbmcKICAgICAgICB0b2dnbGVJY29uLlRleHQgPSAi8J+UhCIKICAgICAgICB0b2dnbGVUZXh0LlRleHQgPSAiQ09OTkVDVElORy4uLiIKICAgICAgICB0b2dnbGVHcmFkaWVudC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3ewogICAgICAgICAgICBDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5mcm9tUkdCKDI1NSwgMTY1LCAwKSksCiAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMC41LCBDb2xvcjMuZnJvbVJHQigyNTUsIDE4NSwgMjApKSwKICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMuZnJvbVJHQigyNTUsIDIwNSwgNDApKQogICAgICAgIH0KICAgICAgICB0b2dnbGVTdHJva2UuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDE2NSwgMCkKICAgICAgICAKICAgICAgICBpc0F1dG9qb2luZXJFbmFibGVkID0gdHJ1ZQogICAgICAgIGNvbm5lY3RUb1NlcnZlcigpCiAgICBlbHNlCiAgICAgICAgcHJpbnQoIvCflIwgS09OVE9MIEhVQjogVXNlciByZXF1ZXN0ZWQgZGlzY29ubmVjdC4uLiIpCiAgICAgICAgLS0gSW1tZWRpYXRlbHkgdXBkYXRlIHZpc3VhbCBzdGF0ZSB0byBzaG93IGRpc2Nvbm5lY3RpbmcKICAgICAgICB0b2dnbGVJY29uLlRleHQgPSAi4pqhIgogICAgICAgIHRvZ2dsZVRleHQuVGV4dCA9ICJDT05ORUNUIgogICAgICAgIHRvZ2dsZUdyYWRpZW50LkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CiAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLmZyb21SR0IoMjAsIDIwLCAyMCkpLCAgIC0tIERhcmsgYmxhY2sKICAgICAgICAgICAgQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjUsIENvbG9yMy5mcm9tUkdCKDQwLCA0MCwgNDApKSwgLS0gTWVkaXVtIGJsYWNrCiAgICAgICAgICAgIENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLmZyb21SR0IoNjAsIDYwLCA2MCkpICAgIC0tIExpZ2h0IGJsYWNrL2dyYXkKICAgICAgICB9CiAgICAgICAgdG9nZ2xlU3Ryb2tlLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoODAsIDgwLCA4MCkgIC0tIEdyYXkgZ2xvdwogICAgICAgIHRvZ2dsZUJ1dHRvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC41ICAtLSBUcmFuc3BhcmVudAogICAgICAgIAogICAgICAgIGRpc2Nvbm5lY3RGcm9tU2VydmVyKCkKICAgIGVuZAplbmQpCgptYW51YWxIb3BCdG4uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCiAgICB1cGRhdGVTdGF0dXMoIvCflIQgTWFudWFsIHNlcnZlciBob3BwaW5nLi4uIikKICAgIHByaW50KCLwn4yQIEtPTlRPTCBIVUI6IE1hbnVhbCBzZXJ2ZXIgaG9wIGluaXRpYXRlZC4uLiIpCiAgICAKICAgIGxvY2FsIHN1Y2Nlc3MsIGVyciA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICBUZWxlcG9ydFNlcnZpY2U6VGVsZXBvcnQoMTA5OTgzNjY4MDc5MjM3LCBQbGF5ZXJzLkxvY2FsUGxheWVyKQogICAgZW5kKQogICAgCiAgICBpZiBub3Qgc3VjY2VzcyB0aGVuCiAgICAgICAgcHJpbnQoIuKdjCBLT05UT0wgSFVCOiBNYW51YWwgaG9wIGZhaWxlZCAtICIgLi4gdG9zdHJpbmcoZXJyKSkKICAgICAgICB1cGRhdGVTdGF0dXMoIuKdjCBNYW51YWwgaG9wIGZhaWxlZDogIiAuLiB0b3N0cmluZyhlcnIpKQogICAgICAgIAogICAgICAgIC0tIFJlc2V0IHN0YXR1cyBhZnRlciBmYWlsZWQgbWFudWFsIGhvcAogICAgICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAgICAgd2FpdCgzKQogICAgICAgICAgICBpZiBpc0Nvbm5lY3RlZCB0aGVuCiAgICAgICAgICAgICAgICB1cGRhdGVTdGF0dXMoIuKaoSBSZWFkeSBmb3IgbmV4dCBKb2IgSUQhIikKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzKCLwn5qAIEtPTlRPTCBIVUIgLSBSZWFkeSBmb3IgWkVSTyBERUxBWSBqb2luaW5nISIpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVsc2UKICAgICAgICB1cGRhdGVTdGF0dXMoIuKchSBTZXJ2ZXIgaG9wcGluZy4uLiIpCiAgICAgICAgcHJpbnQoIuKchSBLT05UT0wgSFVCOiBNYW51YWwgaG9wIHN1Y2Nlc3NmdWwhIikKICAgIGVuZAplbmQpCgotLSBJbml0aWFsaXplIHdpdGggaW1wcm92ZWQgc3RhdHVzCnVwZGF0ZVN0YXR1cygi8J+agCBLT05UT0wgSFVCIC0gUmVhZHkgZm9yIFpFUk8gREVMQVkgam9pbmluZyEiKQpwcmludCgi8J+OryBLT05UT0wgSFVCIEFVVE9KT0lORVIgLSBVTFRSQSBGQVNUIEVkaXRpb24gTG9hZGVkISIpCg==]]
local success, result = pcall(loadstring(base64_decode(encoded)))
if not success then
    error("Error loading encrypted script: " .. tostring(result))
end
